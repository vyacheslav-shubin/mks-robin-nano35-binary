Marlin 2, SHUI Alpha

Альфа версия прошивки для MKS_ROBIN_NANO.
Прошивка состоит из трех файлов:
  robin_nano35.bin  - собственно код прошивки
  resdump.bin       - картинки, шрифты, прочие ресурсы
  config.gcode      - конфигурация

Использование памяти EEPROM отличается от версии MKS, поэтому, 
при обратной прошивке требуется полная инициализация:
  /mks_pics
  /mks_fonts
  robin_nano35.bin
  robin_nano_config.txt


Особенности:
Концевики X-min, Y-max, Z-min

Все настройки в настоящий момент делаются через g код. После прошивки запустить вручную.
О выполнении конфигурирования будет сообщено в статусной строке: settings stored
Предварительно настроенный 
Специфичные настройки прошивки задаются через "M117 SHUI "

2021-02-02
-Можно печатать
-Виджет выбора файлов имеет два вида
-Конфигурирование сигнала концевиков
-Размер стола и оси Z задается через GCODE 
      M117 SHUI M2001 X220 Y220 Z250  ;set machine size
-Точки для ручного уровня стола задаются через
      M117 SHUI M2002 S0 X20 Y20      ;set manual leveling point
-Поддержка настроек пресетов для пластика:
      M145 S0 B61 H201
      M145 S1 B91 H231
      M145 S2 B76 H241
      M145 S3 B111 H210
-Ограничение длины отображения строки (за предоставленный размер не залезает)


2021-02-02 2
-Виджет конфигурирования инверсии осей. 
-Поддержка G кода конфигурирования инверсии осей и состяния концевых датчиков 
  M117 SHUI M2003 X1 Y1 Z1 T0 E1      ;Axis invertion (1 - inverted)
  M117 SHUI M2004 S1 X0 Y1 Z0       ;Endstop passive level (S-1-MAX/0-MIN enstop)
  M117 SHUI M2004 S0 X1 Y0 Z1  
-Исправлана ошибка выделения памяти для отлисовки букв загружаемого шрифта

2021-02-03 
-Кнопка выключения питания
-Виджет печати - пиктограммы состояния

2021-02-04
-Виждет перемещения хотэнда
-Поддержка сниппетов
-Файл ресурсов с контрольной суммой и сигнатурой
-Включен LINEAR ADVANCE

2021-02-06
-Калькулятор
-Браузер файлов, расширения файлов не отображаются
-Браузер файлов, поддержка файлов _config.gcoge
-Виджет конфигурирвания размера принтера

2021-02-08
-Управление питанием
    -ожидание охлаждения хотэнда будет реализовано чуть позже
-Конфигурирование параметров управления питанием через G код (см. конфиг)
-Виджет настройки длины притка для команд загрузки/выгрузки
-Сниппет выключения питания 
    POWER_OFF=M81
-Поддержка M0/M1 - диалоговое окно с ожиданием нажатия.
-По окончанию исполнения файлов конфигурации браузер файлов не закрывается

2021-02-09
-Новый виджет перемещения. Совмещает парковку, управление филаментом, передвижение

2021-02-10
-Сниппеты конфигурируются из g-кода
-Виджеты работают через сниппеты. Без однократного запуска после прошивки конфигурирущего файла интерфейс работать не будет.
-В конфигурационном файле можно настроить основные действия по нажатию на кнопки интерфейса. Начальная конфигурция задана
-Если в новом виджете перемещения выбрать ось E0(E1) - экструдер, и максимальную дистанцию перемещения, сработают сниппеты FILAMENT_LOAD 17, FILAMENT_UNLOAD 18
-Длина сниппета не более 64 символов. Если сниппет содержит поле для подстановки значения, следует учитывать его увеличивающуюся длину, после заполнения.

2021-02-11
-Превью файлов в браузере

2021-02-12
-Превью в виджете печати

2021-02-12
-Пиктограммы активных процессов (печать, парковка, нагрев, срабатывание концевых датчиков)
-Предварительный просмотр печатаемого фала, метаинформация о размере модели, к-ва филамента, времени печати


==========================================================================


Требуется решить:
-отрисовка busy_state 
-Большие буквы кириллического шрифта
-Кастомизация виджета пользовательских инструментов


